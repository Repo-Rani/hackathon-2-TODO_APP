# Phase 2: Full-Stack Todo App - Constitution
Project Identity
Name: Hackathon Todo - Phase 2 Full-Stack Web Application
Phase: Phase II of Evolution of Todo (5 Phases Total)

Purpose & Vision
What We're Building
Transform the Phase 1 console todo app into a modern, multi-user web application with persistent storage, authentication, and RESTful API architecture.

Success Criteria
✅ All 5 Basic Level features implemented: Add Task, View Tasks, Update Task, Delete Task, Mark Complete
✅ Multi-user authentication with Better-Auth
✅ Persistent storage with Neon Serverless PostgreSQL
✅ RESTful API with FastAPI backend
✅ Modern UI with Next.js 16 App Router
✅ Responsive design with Tailwind CSS
✅ Proper error handling and validation
✅ Type safety with TypeScript and Python type hints

Core Principles

Spec-Driven Development (Non-Negotiable)
- NO manual coding - All code must be generated by Claude Code
- Every feature must have a specification written first
- Iterate on specs until Claude Code generates correct output
- Maintain `/specs` folder with all specification history

Architecture Constraints
- Full-Stack Application: Backend API (FastAPI) with Frontend (Next.js 16 App Router)
- Database Persistence: Neon Serverless PostgreSQL with SQLModel ORM
- Authentication: Better-Auth for secure user management
- RESTful API: Standard HTTP methods and status codes
- Multi-User Support: Isolated data per authenticated user
- Cloud-Native: Designed for containerized deployment

Technology Stack
- Backend: Python 3.11+, FastAPI, SQLModel, Neon Serverless PostgreSQL
- Frontend: Next.js 16 (App Router), TypeScript 5.0+, Tailwind CSS
- Authentication: Better-Auth
- Package Managers: UV (Python), npm/pnpm (JavaScript)
- Development Tools: Claude Code, Spec-Kit Plus

Data Model Principles
- Task Structure: Must include id, title, description, completed, created_at, updated_at, user_id
- ID Generation: Auto-incrementing integers with UUID option
- User Isolation: Each task belongs to a single authenticated user
- Status: Boolean completed flag (True/False) with timestamp
- Soft Delete: Mark as deleted instead of removing from DB

User Interface Principles
- Modern Web UI: Responsive design with Next.js App Router
- Authentication Flow: Login/Register with secure session management
- Task Management: Intuitive CRUD operations with visual feedback
- Real-time Updates: Reflect changes immediately in UI
- Accessibility: Follow WCAG guidelines for usability

Feature Completeness Requirements
Must implement exactly these 5 Basic Level features:
1. Add Task: Create new tasks with title, description, and assign to user
2. View Tasks: Display all tasks for authenticated user with filtering options
3. Update Task: Modify task properties (title, description, completion status)
4. Delete Task: Remove tasks with confirmation prompts
5. Mark Complete: Toggle task completion status

Development Workflow
- Read specification before implementing ANY feature
- Generate code based on spec that follows full-stack architecture
- Validate generated code has type hints, docstrings, handles errors gracefully
- Test authentication and authorization flows
- Verify database schema and migrations
- Ensure responsive design across device sizes



Testing Requirements
- Unit tests for all API endpoints
- Integration tests for authentication flows
- End-to-end tests for critical user journeys
- Database migration testing
- Cross-browser compatibility verification

Security Standards
- All API endpoints must require authentication where appropriate
- Input validation on both frontend and backend
- SQL injection prevention via ORM
- XSS protection through proper templating
- Secure session management with Better-Auth
- Password hashing and secure storage

Performance Benchmarks
- API response times under 500ms for standard operations
- Page load times under 2 seconds
- Efficient database queries with proper indexing
- Optimized asset delivery and caching
- Minimal bundle sizes for frontend

Governance
- All implementations must follow the 5 basic features exactly as specified
- No manual coding allowed - must use specs to generate
- Code must have type hints, docstrings, and proper error handling
- All 5 features must work according to specs with proper authentication and database persistence
- Multi-user isolation must be maintained at all times
- All changes must pass through proper review process

Version Control
- Feature branches for all new development
- Descriptive commit messages following conventional format
- Pull requests with proper reviews before merging
- Tag releases appropriately
- Maintain clean commit history

**Version**: 1.0.0 | **Ratified**: 2026-01-11 | **Last Amended**: 2026-01-11